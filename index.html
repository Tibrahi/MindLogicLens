<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindLogicLens | Cognitive Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { deep: '#050b14', panel: '#0f172a', neon: '#a855f7', cyan: '#06b6d4' },
                    fontFamily: { sans: ['Rajdhani', 'sans-serif'], display: ['Orbitron', 'sans-serif'] }
                }
            }
        }
    </script>
</head>
<body class="bg-deep text-white h-screen flex flex-col overflow-hidden">

    <header class="relative z-10 p-6 flex justify-between items-center border-b border-white/10 backdrop-blur-md">
        <div class="flex items-center gap-4 cursor-pointer" onclick="Game.returnToHome()">
            <div class="w-10 h-10 border border-neon rounded-full flex items-center justify-center shadow-[0_0_15px_#a855f7]">
                <span class="text-xl">üëÅÔ∏è</span>
            </div>
            <h1 class="font-display font-bold text-2xl tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-cyan to-neon">MINDLOGIC</h1>
        </div>
        <div class="text-right">
            <span class="text-[10px] text-gray-500 uppercase block">Cognitive XP</span>
            <span id="xp-display" class="font-display text-xl text-white">0000</span>
        </div>
    </header>

    <main id="app" class="relative z-10 flex-1 flex flex-col items-center justify-center p-4">
        
        <section id="scene-home" class="w-full max-w-4xl animate-fade-in">
            <div id="level-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"></div>
            <div class="flex justify-center">
                <button onclick="Game.openBuilder()" class="px-8 py-3 bg-neon/10 border border-neon/50 rounded-full hover:bg-neon hover:text-black transition-all font-display text-xs tracking-widest">
                    OPEN LOGIC BUILDER
                </button>
            </div>
        </section>

        <section id="scene-game" class="hidden w-full max-w-2xl bg-panel/80 border border-white/10 rounded-2xl overflow-hidden shadow-2xl">
            <div class="h-1 bg-gray-800"><div id="progress-bar" class="h-full bg-cyan transition-all duration-500"></div></div>
            <div class="p-8 flex flex-col items-center min-h-[400px]">
                <h2 id="game-title" class="text-cyan text-xs tracking-[0.3em] mb-8">PROTOCOL</h2>
                <p id="game-instruction" class="text-2xl md:text-3xl font-light text-center mb-10"></p>
                
                <div id="input-area" class="hidden"><input type="number" id="user-input" class="bg-transparent border-b-2 border-neon text-5xl text-center w-32 focus:outline-none"></div>
                <div id="binary-area" class="hidden flex gap-4">
                    <button id="btn-no" class="px-10 py-4 bg-red-500/20 border border-red-500/50 rounded-lg">NO</button>
                    <button id="btn-yes" class="px-10 py-4 bg-green-500/20 border border-green-500/50 rounded-lg">YES</button>
                </div>
                <div id="symbol-grid" class="hidden grid grid-cols-5 gap-2 h-48 overflow-y-auto custom-scroll p-4 bg-black/40 rounded w-full"></div>
                
                <div class="mt-auto w-full">
                    <button id="action-btn" class="w-full py-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition font-display tracking-widest">PROCEED</button>
                </div>
            </div>
        </section>

        <section id="scene-result" class="hidden text-center animate-fade-in">
            <div class="w-64 h-64 border-2 border-neon rounded-full mx-auto flex items-center justify-center mb-8 relative">
                <div class="absolute inset-0 border-t-2 border-cyan rounded-full animate-spin"></div>
                <span id="final-reveal" class="text-8xl font-display text-white">?</span>
            </div>
            <div class="bg-white/5 p-6 rounded-xl border border-white/10 max-w-md mx-auto mb-8">
                <p id="logic-explanation" class="text-cyan font-mono text-sm leading-relaxed"></p>
            </div>
            <button onclick="Game.returnToHome()" class="px-12 py-3 bg-neon text-black font-bold rounded-full">CONTINUE</button>
        </section>

        <section id="scene-builder" class="hidden w-full max-w-2xl bg-panel p-8 rounded-2xl border border-white/10">
            <h2 class="font-display text-xl mb-4">LOGIC ARCHITECT</h2>
            <div id="builder-steps" class="space-y-2 mb-6"></div>
            <div class="grid grid-cols-4 gap-2 mb-6">
                <button onclick="Builder.addOp('add')" class="bg-white/5 p-2 rounded hover:bg-cyan/20 text-xs">+ ADD</button>
                <button onclick="Builder.addOp('sub')" class="bg-white/5 p-2 rounded hover:bg-cyan/20 text-xs">- SUB</button>
                <button onclick="Builder.addOp('mul')" class="bg-white/5 p-2 rounded hover:bg-cyan/20 text-xs">√ó MUL</button>
                <button onclick="Builder.addOp('div')" class="bg-white/5 p-2 rounded hover:bg-cyan/20 text-xs">√∑ DIV</button>
            </div>
            <div class="flex justify-between items-center border-t border-white/10 pt-4">
                <span id="builder-status" class="text-xs font-mono text-gray-500">Steps: 0</span>
                <button onclick="Builder.testAndSave()" class="px-6 py-2 bg-cyan text-black font-bold rounded">VALIDATE & RUN</button>
            </div>
        </section>

    </main>

    <script src="game.js"></script>
</body>
</html>